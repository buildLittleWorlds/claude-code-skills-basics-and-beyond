<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Capture Pane â€” Skills: Basics and Beyond</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,600;1,400&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <header>
    <div class="container">
      <p class="site-label">Claude Code Skills</p>
      <h1><a href="index.html">Skills: Basics and Beyond</a></h1>
      <nav>
        <a href="index.html">Curriculum</a>
        <span class="phase-label">Phase 3: Task Workflow Mastery</span>
      </nav>
    </div>
  </header>

  <main class="container">

    <div class="slogan-banner">
      <span class="main-slogan">Build once, benefit every time.</span>
      <span class="subtext">A hands-on curriculum for building skills, hooks, agents, and workflows in Claude Code.</span>
    </div>

    <h1 class="page-title">Seeing What Claude Said Without Being There</h1>

    <div class="course-meta">
      <span class="meta-pill">Lesson <strong>2</strong> of 15</span>
      <span class="meta-pill"><strong>Intermediate</strong></span>
      <span class="meta-pill">20 min</span>
    </div>

    <p class="lead">Lesson 1 taught you to <em>send</em> commands to panes. This lesson teaches the opposite: <strong>reading output</strong> from panes you&rsquo;re not in. The <code>capture-pane</code> command reads a pane&rsquo;s terminal buffer programmatically &mdash; scriptable copy mode.</p>

    <div class="callout info">
      <p><strong>Prerequisites:</strong></p>
      <ul>
        <li>Completed <a href="phase3-01-talking-to-panes.html">Lesson 1</a> (send-keys addressing, 3-window layout)</li>
        <li>The <code>tasks</code> tmux session from Lesson 1</li>
        <li>Claude Code installed (<code>claude</code> command available)</li>
      </ul>
    </div>

    <h2>Concepts</h2>

    <h3>The <code>capture-pane</code> Command</h3>

    <div class="terminal-block"><span class="prompt">$ </span>tmux capture-pane -t &lt;target&gt; -p -S &lt;start-line&gt;</div>

    <table class="tool-table">
      <thead>
        <tr><th>Flag</th><th>Meaning</th></tr>
      </thead>
      <tbody>
        <tr><td><code>-t &lt;target&gt;</code></td><td>Which pane to read (same addressing as <code>send-keys</code>)</td></tr>
        <tr><td><code>-p</code></td><td>Print to stdout (instead of paste buffer)</td></tr>
        <tr><td><code>-S &lt;N&gt;</code></td><td>Start N lines from the bottom (negative = scrollback)</td></tr>
        <tr><td><code>-E &lt;N&gt;</code></td><td>End N lines from the bottom</td></tr>
      </tbody>
    </table>

    <h3>Why This Matters for the Cockpit</h3>

    <p><code>capture-pane</code> lets you check Claude&rsquo;s progress without switching panes, grep for keywords in Claude&rsquo;s output, build monitoring scripts, and log sessions by capturing pane contents to files.</p>

    <h2>Walkthrough</h2>

    <div class="step-card">
      <span class="step-number">1</span>
      <span class="step-title">Capture from a simple process</span>
      <div class="step-content">
        <p>Split HQ if needed (<code>Ctrl+J %</code>). Start a visible process in the right pane:</p>
        <div class="terminal-block"><span class="prompt">$ </span>tmux send-keys -t tasks:hq.1 "for i in 1 2 3 4 5; do echo \"Task \$i\"; sleep 1; done" Enter</div>
        <p>Wait a few seconds, then capture the output:</p>
        <div class="terminal-block"><span class="prompt">$ </span>tmux capture-pane -t tasks:hq.1 -p -S -10</div>
      </div>
    </div>

    <div class="step-card">
      <span class="step-number">2</span>
      <span class="step-title">Launch Claude and monitor it</span>
      <div class="step-content">
        <p>Start Claude in the right pane, send it a prompt, then capture the response:</p>
        <div class="terminal-block"><span class="prompt">$ </span>tmux send-keys -t tasks:hq.1 "claude" Enter</div>
        <p>Wait 3&ndash;4 seconds, then:</p>
        <div class="terminal-block"><span class="prompt">$ </span>tmux send-keys -t tasks:hq.1 "List the files in ~/work/_tasks/pending/" Enter</div>
        <p>After 5&ndash;10 seconds:</p>
        <div class="terminal-block"><span class="prompt">$ </span>tmux capture-pane -t tasks:hq.1 -p -S -30</div>
        <p>Claude&rsquo;s response appears in your pane. Claude is still running &mdash; you read its output without disturbing it.</p>
      </div>
    </div>

    <div class="step-card">
      <span class="step-number">3</span>
      <span class="step-title">Filtered monitoring</span>
      <div class="step-content">
        <p>Pipe <code>capture-pane</code> through <code>grep</code> to find specific output:</p>
        <div class="terminal-block"><span class="prompt">$ </span>tmux capture-pane -t tasks:hq.1 -p -S -50 | grep -i "due"
<span class="prompt">$ </span>tmux capture-pane -t tasks:hq.1 -p -S -50 | grep "\.md"</div>
      </div>
    </div>

    <div class="step-card">
      <span class="step-number">4</span>
      <span class="step-title">Capture to a file</span>
      <div class="step-content">
        <div class="terminal-block"><span class="prompt">$ </span>tmux capture-pane -t tasks:hq.1 -p -S -100 &gt; /tmp/claude-session.log
<span class="prompt">$ </span>cat /tmp/claude-session.log</div>
      </div>
    </div>

    <div class="step-card">
      <span class="step-number">5</span>
      <span class="step-title">The monitor one-liner</span>
      <div class="step-content">
        <p>Combine <code>watch</code> with <code>capture-pane</code> for live monitoring:</p>
        <div class="terminal-block"><span class="prompt">$ </span>watch -n 2 'tmux capture-pane -t tasks:hq.1 -p -S -15'</div>
        <p>This refreshes every 2 seconds. Press <code>Ctrl+c</code> to stop. This is the same pattern the cockpit dashboard uses for its watchers.</p>
      </div>
    </div>

    <h2>Verification Checklist</h2>

    <ul class="checklist">
      <li>You can <code>capture-pane</code> output from a pane you&rsquo;re not in</li>
      <li>You can pipe <code>capture-pane</code> through <code>grep</code> to filter for specific patterns</li>
      <li>You can save <code>capture-pane</code> output to a log file</li>
      <li>You&rsquo;ve used <code>watch</code> + <code>capture-pane</code> for live monitoring</li>
      <li>Claude ran in pane 1 and you read its output from pane 0</li>
    </ul>

    <h2>Design Rationale</h2>

    <p><strong>Why <code>capture-pane</code> instead of tailing a log file?</strong> Claude Code doesn&rsquo;t write to a log file by default &mdash; its output goes to the terminal. <code>capture-pane</code> reads the terminal buffer directly. No configuration, no file management, works with any process.</p>

    <p><strong>Why <code>-S -N</code> (negative start)?</strong> Negative numbers count from the bottom (current view). <code>-S -20</code> means &ldquo;the last 20 lines,&rdquo; which is almost always what you want for monitoring.</p>

    <div class="callout insight">
      <p><strong>Phase 1 Callback:</strong> This builds on Lesson 8 (Copy Mode). Copy mode lets you scroll manually with <code>Ctrl+J [</code>. <code>capture-pane</code> does the same thing programmatically &mdash; scriptable copy mode.</p>
    </div>

    <div class="callout success">
      <p><strong>What&rsquo;s Next:</strong> <a href="phase3-03-jumping-between-worlds.html">Lesson 3: Jumping Between Worlds</a> teaches multi-session management &mdash; running a task cockpit and a coding session simultaneously, with rapid switching between them.</p>
    </div>

    <div class="divider"></div>

    <nav class="page-nav">
      <a href="phase3-01-talking-to-panes.html" class="prev">Talking to Panes</a>
      <a href="phase3-03-jumping-between-worlds.html" class="next">Jumping Between Worlds</a>
    </nav>

    <nav class="site-nav-bottom">
      <h3>All Courses</h3>
      <ul>
        <li class="nav-phase-label">Phase 1: Skills Fundamentals</li>
        <li><a href="course-01-first-skill.html">1. Your First Skill</a></li>
        <li><a href="course-02-descriptions-and-triggers.html">2. Descriptions &amp; Triggers</a></li>
        <li><a href="course-03-full-anatomy.html">3. Full Skill Anatomy</a></li>
        <li><a href="course-04-testing-iteration.html">4. Testing &amp; Iteration</a></li>
        <li><a href="course-05-advanced-features.html">5. Advanced Features</a></li>
        <li><a href="course-06-multi-step-workflows.html">6. Multi-Step Workflows</a></li>
        <li><a href="course-07-hooks.html">7. Hooks</a></li>
        <li class="nav-phase-label">Bridge</li>
        <li><a href="course-07h-terminal-workspace.html">7&frac12;. Terminal Workspace</a></li>
        <li class="nav-phase-label">Phase 2: Integrated Advanced</li>
        <li><a href="course-08-custom-subagents.html">8. Custom Subagents</a></li>
        <li><a href="course-09-skills-cli-integration.html">9. CLI Integration</a></li>
        <li><a href="course-10-agent-teams.html">10. Agent Teams</a></li>
        <li><a href="course-11-capstone.html">11. Capstone</a></li>
        <li class="nav-phase-label">Phase 3: Task Workflow Mastery</li>
        <li><a href="phase3-01-talking-to-panes.html">1. Talking to Panes</a></li>
        <li><a href="phase3-02-capture-pane.html" class="current">2. Capture Pane</a></li>
        <li><a href="phase3-03-jumping-between-worlds.html">3. Jumping Between Worlds</a></li>
        <li><a href="phase3-04-next-skill.html">4. /next Skill</a></li>
        <li><a href="phase3-05-done-skill.html">5. /done Skill</a></li>
        <li><a href="phase3-06-triage-skill.html">6. /triage Skill</a></li>
        <li><a href="phase3-07-startup-script.html">7. Startup Script</a></li>
        <li><a href="phase3-08-today-skill.html">8. /today Skill</a></li>
        <li><a href="phase3-09-overdue-skill.html">9. /overdue Skill</a></li>
        <li><a href="phase3-10-compound-reminder.html">10. Compound Reminder</a></li>
        <li><a href="phase3-11-file-protection.html">11. File Protection</a></li>
        <li><a href="phase3-12-cockpit-layout.html">12. Cockpit Layout</a></li>
        <li><a href="phase3-13-side-gigs.html">13. Side-Gigs Domain</a></li>
        <li><a href="phase3-14-session-summary.html">14. Session Summary</a></li>
        <li><a href="phase3-15-daily-rhythm.html">15. Daily Rhythm</a></li>
      </ul>
    </nav>

  </main>

  <footer>
    <p>Claude Code Skills &mdash; <a href="https://github.com/buildLittleWorlds/claude-code-skills-basics-and-beyond">GitHub Repository</a></p>
  </footer>

  <script src="copy-code.js"></script>

</body>
</html>
